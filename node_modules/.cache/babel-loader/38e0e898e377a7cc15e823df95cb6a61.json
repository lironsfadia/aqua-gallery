{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@react-leaflet/core\");\n\nvar leaflet_1 = __importDefault(require(\"leaflet\"));\n\nrequire(\"leaflet.markercluster\");\n\nrequire(\"leaflet.markercluster/dist/MarkerCluster.css\");\n\nrequire(\"leaflet.markercluster/dist/MarkerCluster.Default.css\");\n\nvar react_1 = require(\"react\"); //webpack failing when loading leaflet marker icon\n\n\ndelete leaflet_1.default.Icon.Default.prototype._getIconUrl;\nleaflet_1.default.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png').default,\n  iconUrl: require('leaflet/dist/images/marker-icon.png').default,\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png').default\n});\n\nfunction getPropsAndEvents(props) {\n  var clusterProps = {};\n  var clusterEvents = {};\n\n  var children = props.children,\n      rest = __rest(props // Splitting props and events to different objects\n  , [\"children\"]); // Splitting props and events to different objects\n\n\n  Object.entries(rest).forEach(function (_a) {\n    var _b, _c;\n\n    var propName = _a[0],\n        prop = _a[1];\n\n    if (propName.startsWith('on')) {\n      clusterEvents = __assign(__assign({}, clusterEvents), (_b = {}, _b[propName] = prop, _b));\n    } else {\n      clusterProps = __assign(__assign({}, clusterProps), (_c = {}, _c[propName] = prop, _c));\n    }\n  });\n  return [clusterProps, clusterEvents];\n}\n\nfunction createMarkerCluster(props, context) {\n  var _a = getPropsAndEvents(props),\n      clusterProps = _a[0],\n      clusterEvents = _a[1];\n\n  var clusterGroup = new leaflet_1.default.MarkerClusterGroup(clusterProps);\n  react_1.useEffect(function () {\n    Object.entries(clusterEvents).forEach(function (_a) {\n      var eventAsProp = _a[0],\n          callback = _a[1];\n      var clusterEvent = \"cluster\" + eventAsProp.substring(2).toLowerCase();\n      clusterGroup.on(clusterEvent, callback);\n    });\n    return function () {\n      Object.entries(clusterEvents).forEach(function (_a) {\n        var eventAsProp = _a[0];\n        var clusterEvent = \"cluster\" + eventAsProp.substring(2).toLowerCase();\n        clusterGroup.removeEventListener(clusterEvent);\n      });\n    };\n  }, [clusterEvents, clusterGroup]);\n  return {\n    instance: clusterGroup,\n    context: __assign(__assign({}, context), {\n      layerContainer: clusterGroup\n    })\n  };\n}\n\nvar updateMarkerCluster = function updateMarkerCluster(instance, props, prevProps) {\n  //TODO when prop change update instance\n  if (props.showCoverageOnHover !== prevProps.showCoverageOnHover) {}\n};\n\nvar MarkerClusterGroup = core_1.createPathComponent(createMarkerCluster, updateMarkerCluster);\nexports.default = MarkerClusterGroup;","map":{"version":3,"sources":["/home/trellis/react-node-app/client/node_modules/react-leaflet-cluster/lib/index.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","mod","__esModule","defineProperty","exports","value","core_1","require","leaflet_1","react_1","default","Icon","Default","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","getPropsAndEvents","props","clusterProps","clusterEvents","children","rest","entries","forEach","_a","_b","_c","propName","prop","startsWith","createMarkerCluster","context","clusterGroup","MarkerClusterGroup","useEffect","eventAsProp","callback","clusterEvent","substring","toLowerCase","on","removeEventListener","instance","layerContainer","updateMarkerCluster","prevProps","showCoverageOnHover","createPathComponent"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@react-leaflet/core\");\nvar leaflet_1 = __importDefault(require(\"leaflet\"));\nrequire(\"leaflet.markercluster\");\nrequire(\"leaflet.markercluster/dist/MarkerCluster.css\");\nrequire(\"leaflet.markercluster/dist/MarkerCluster.Default.css\");\nvar react_1 = require(\"react\");\n//webpack failing when loading leaflet marker icon\ndelete leaflet_1.default.Icon.Default.prototype._getIconUrl;\nleaflet_1.default.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png').default,\n    iconUrl: require('leaflet/dist/images/marker-icon.png').default,\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png').default,\n});\nfunction getPropsAndEvents(props) {\n    var clusterProps = {};\n    var clusterEvents = {};\n    var children = props.children, rest = __rest(props\n    // Splitting props and events to different objects\n    , [\"children\"]);\n    // Splitting props and events to different objects\n    Object.entries(rest).forEach(function (_a) {\n        var _b, _c;\n        var propName = _a[0], prop = _a[1];\n        if (propName.startsWith('on')) {\n            clusterEvents = __assign(__assign({}, clusterEvents), (_b = {}, _b[propName] = prop, _b));\n        }\n        else {\n            clusterProps = __assign(__assign({}, clusterProps), (_c = {}, _c[propName] = prop, _c));\n        }\n    });\n    return [clusterProps, clusterEvents];\n}\nfunction createMarkerCluster(props, context) {\n    var _a = getPropsAndEvents(props), clusterProps = _a[0], clusterEvents = _a[1];\n    var clusterGroup = new leaflet_1.default.MarkerClusterGroup(clusterProps);\n    react_1.useEffect(function () {\n        Object.entries(clusterEvents).forEach(function (_a) {\n            var eventAsProp = _a[0], callback = _a[1];\n            var clusterEvent = \"cluster\" + eventAsProp.substring(2).toLowerCase();\n            clusterGroup.on(clusterEvent, callback);\n        });\n        return function () {\n            Object.entries(clusterEvents).forEach(function (_a) {\n                var eventAsProp = _a[0];\n                var clusterEvent = \"cluster\" + eventAsProp.substring(2).toLowerCase();\n                clusterGroup.removeEventListener(clusterEvent);\n            });\n        };\n    }, [clusterEvents, clusterGroup]);\n    return {\n        instance: clusterGroup,\n        context: __assign(__assign({}, context), { layerContainer: clusterGroup }),\n    };\n}\nvar updateMarkerCluster = function (instance, props, prevProps) {\n    //TODO when prop change update instance\n    if (props.showCoverageOnHover !== prevProps.showCoverageOnHover) {\n    }\n};\nvar MarkerClusterGroup = core_1.createPathComponent(createMarkerCluster, updateMarkerCluster);\nexports.default = MarkerClusterGroup;\n"]},"metadata":{},"sourceType":"script"}