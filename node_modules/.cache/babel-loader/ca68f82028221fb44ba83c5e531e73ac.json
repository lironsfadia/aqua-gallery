{"ast":null,"code":"import _slicedToArray from \"/home/trellis/react-gallry-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/home/trellis/react-gallry-app/src/layout/TitlebarImageList.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport ImageList from '@mui/material/ImageList';\nimport ImageListItem from '@mui/material/ImageListItem';\nimport ImageListItemBar from '@mui/material/ImageListItemBar';\nimport ListSubheader from '@mui/material/ListSubheader';\nimport IconButton from '@mui/material/IconButton';\nimport InfoIcon from '@mui/icons-material/Info';\nimport PropTypes from 'prop-types';\nimport { useWidth } from '../customHooks/useWidth';\nimport { ImageContainer } from '../components/ImageContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar avilableSizes = [150, 300, 450, 600];\n\nfunction getTitleBarClassName(url) {\n  console.log(url.split('/')[3]);\n  var className = '.title-bar-';\n\n  switch (url.split('/')[3]) {\n    case avilableSizes[0]:\n      console.log(url);\n      return className += 'xs';\n\n    case avilableSizes[1]:\n      console.log(url);\n      return className += 's';\n      console.log(url);\n\n    case avilableSizes[2]:\n      console.log(url);\n      return className += 'md';\n\n    case avilableSizes[3]:\n      console.log(url);\n      return className += 'l';\n\n    default:\n      return className += 'xs';\n  }\n}\n\nfunction TitlebarImageList(_ref) {\n  _s();\n\n  var _this = this;\n\n  var imagesData = _ref.imagesData;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedImageItem = _useState2[0],\n      setSelectedImageItem = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showDot = _useState4[0],\n      setShowDot = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentImagesData = _useState6[0],\n      setCurrentImagesData = _useState6[1];\n\n  var _useWidth = useWidth(),\n      windowWidth = _useWidth.width;\n\n  var updateImageItem = function updateImageItem(item) {\n    setSelectedImageItem(item);\n  };\n\n  useEffect(function () {\n    var data = imagesData.slice(0, 100);\n    data.map(function (element, index) {\n      var arr = element.url.split('/');\n      arr[3] = avilableSizes[index % 4];\n      element.url = arr.join('/');\n      element.cols = Math.round(1 + Math.random());\n      element.rows = Math.round(1 + Math.random());\n      ;\n    });\n    setCurrentImagesData(data);\n  }, [imagesData]);\n  useEffect(function () {\n    selectedImageItem ? setShowDot(true) : setShowDot(false);\n  }, [selectedImageItem]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selected-image-container\",\n      children: showDot ? /*#__PURE__*/_jsxDEV(ImageContainer, {\n        item: selectedImageItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), currentImagesData ? /*#__PURE__*/_jsxDEV(ImageList, {\n      sx: {\n        width: windowWidth,\n        height: 1000\n      },\n      cols: 4,\n      rowHeight: 150,\n      variant: \"quilted\",\n      gap: 8,\n      children: [/*#__PURE__*/_jsxDEV(ImageListItem, {\n        cols: 2,\n        children: /*#__PURE__*/_jsxDEV(ListSubheader, {\n          component: \"div\",\n          children: \"Aqua Gallery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, \"Subheader\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), currentImagesData.map(function (item) {\n        return /*#__PURE__*/_jsxDEV(ImageListItem, {\n          cols: item.cols || 1,\n          rows: item.rows || 1,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"img-elm\",\n            src: \"\".concat(item.url, \"?w=248&fit=crop&auto=format\"),\n            srcSet: \"\".concat(item.url, \"?w=248&fit=crop&auto=format&dpr=2 2x\"),\n            alt: item.title,\n            loading: \"lazy\",\n            onClick: function onClick() {\n              return updateImageItem(item);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"title-bar-elm\",\n            children: /*#__PURE__*/_jsxDEV(ImageListItemBar, {\n              className: getTitleBarClassName(item.url),\n              title: item.title,\n              position: \"top\",\n              actionIcon: /*#__PURE__*/_jsxDEV(IconButton, {\n                sx: {\n                  color: 'rgba(255, 255, 255, 0.54)'\n                },\n                \"aria-label\": \"info about \".concat(item.title),\n                children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, _this)]\n        }, item.url, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this) : null]\n  }, void 0, true);\n}\n\n_s(TitlebarImageList, \"gm7zUlUl1YoFfqS/+IdL4RpRwxs=\", false, function () {\n  return [useWidth];\n});\n\n_c = TitlebarImageList;\nTitlebarImageList.propTypes = {\n  imagesData: PropTypes.array\n};\nexport default TitlebarImageList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TitlebarImageList\");","map":{"version":3,"sources":["/home/trellis/react-gallry-app/src/layout/TitlebarImageList.js"],"names":["useState","useEffect","ImageList","ImageListItem","ImageListItemBar","ListSubheader","IconButton","InfoIcon","PropTypes","useWidth","ImageContainer","avilableSizes","getTitleBarClassName","url","console","log","split","className","TitlebarImageList","imagesData","selectedImageItem","setSelectedImageItem","showDot","setShowDot","currentImagesData","setCurrentImagesData","windowWidth","width","updateImageItem","item","data","slice","map","element","index","arr","join","cols","Math","round","random","rows","height","title","color","propTypes","array"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport ImageList from '@mui/material/ImageList';\nimport ImageListItem from '@mui/material/ImageListItem';\nimport ImageListItemBar from '@mui/material/ImageListItemBar';\nimport ListSubheader from '@mui/material/ListSubheader';\nimport IconButton from '@mui/material/IconButton';\nimport InfoIcon from '@mui/icons-material/Info';\nimport PropTypes from 'prop-types';\nimport { useWidth } from '../customHooks/useWidth';\nimport { ImageContainer } from '../components/ImageContainer';\n\nconst avilableSizes = [150, 300, 450, 600];\n\nfunction getTitleBarClassName(url) {\n  console.log(url.split('/')[3]);\n  var className = '.title-bar-';\n  switch(url.split('/')[3]) {\n    case avilableSizes[0]:\n      console.log(url);\n      return className += 'xs';\n    case avilableSizes[1]:\n      console.log(url);\n      return className += 's';\n      console.log(url);\n    case avilableSizes[2]:\n      console.log(url);\n      return className += 'md';\n    case avilableSizes[3]:\n      console.log(url);\n      return className += 'l';\n    default:\n      return className += 'xs'; \n  }\n}\n\nfunction TitlebarImageList({ imagesData }) {\n  const [selectedImageItem, setSelectedImageItem] = useState(null);\n  const [showDot, setShowDot] = useState(false);\n  const [currentImagesData, setCurrentImagesData] = useState(null);\n  const { width: windowWidth } = useWidth();\n\n  const updateImageItem = (item) =>{ \n    setSelectedImageItem(item);\n  }\n\n  useEffect(() => {\n    const data = imagesData.slice(0, 100);\n    data.map((element, index) => {\n      const arr = element.url.split('/');\n      arr[3] = avilableSizes[index%4]\n      element.url = arr.join('/');\n      element.cols = Math.round(1 + Math.random());\n      element.rows = Math.round(1 + Math.random());;\n    })\n    setCurrentImagesData(data);\n\n  }, [imagesData])\n\n  useEffect(() => {\n    selectedImageItem ? setShowDot(true) : setShowDot(false);\n  }, [selectedImageItem])\n\n  return (\n    <>\n      <div className='selected-image-container'>\n        { showDot ? <ImageContainer item={selectedImageItem} /> : null }\n      </div>\n      { currentImagesData ? \n      <ImageList sx={{ width: windowWidth, height: 1000 }}\n                 cols={4}\n                 rowHeight={150}\n                 variant=\"quilted\"\n                 gap={8}>\n        <ImageListItem key=\"Subheader\" cols={2}>\n          <ListSubheader component=\"div\">Aqua Gallery</ListSubheader>\n        </ImageListItem>\n        {currentImagesData.map((item) => (\n          <ImageListItem key={item.url} cols={item.cols || 1} rows={item.rows || 1}>\n            <img\n              id=\"img-elm\"\n              src={`${item.url}?w=248&fit=crop&auto=format`}\n              srcSet={`${item.url}?w=248&fit=crop&auto=format&dpr=2 2x`}\n              alt={item.title}\n              loading=\"lazy\"\n              onClick={() => updateImageItem(item)}\n            />\n            <div id=\"title-bar-elm\">\n              <ImageListItemBar\n                className={getTitleBarClassName(item.url)}\n                title={item.title}\n                position={\"top\"}\n                actionIcon={\n                  <IconButton\n                    sx={{ color: 'rgba(255, 255, 255, 0.54)' }}\n                    aria-label={`info about ${item.title}`}\n                  >\n                    <InfoIcon />\n                  </IconButton>\n                }\n              />\n            </div>\n          </ImageListItem>\n        ))}\n      </ImageList> : null}\n    </>\n  );\n}\n\nTitlebarImageList.propTypes = {\n  imagesData: PropTypes.array,\n  };\n  \nexport default TitlebarImageList;"]},"metadata":{},"sourceType":"module"}