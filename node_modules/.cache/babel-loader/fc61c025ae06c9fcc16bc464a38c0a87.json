{"ast":null,"code":"import _slicedToArray from \"/home/trellis/react-gallery-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/home/trellis/react-gallery-app/src/layout/TitlebarImageList.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { useWidth } from '../customHooks/useWidth';\nimport { Typography } from '@mui/material';\nimport ImageList from '@mui/material/ImageList';\nimport ImageListItem from '@mui/material/ImageListItem';\nimport ImageListItemBar from '@mui/material/ImageListItemBar';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar AVAILABLE_SIZES = [150, 450, 600];\n\nfunction TitlebarImageList(_ref) {\n  _s();\n\n  var _this = this;\n\n  var imagesData = _ref.imagesData;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentImagesData = _useState2[0],\n      setCurrentImagesData = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imageSearchResults = _useState4[0],\n      setImageSearchResults = _useState4[1];\n\n  var _useWidth = useWidth(),\n      windowWidth = _useWidth.width;\n\n  var navigate = useNavigate();\n  var imageQueryParams = '?w=248&fit=crop&auto=format';\n  var thumbnailQueryParams = '?w=248&fit=crop&auto=format&dpr=2 2x';\n\n  var routeToImageDetails = function routeToImageDetails(item) {\n    var path = \"/details\";\n    navigate(path, {\n      state: {\n        id: 1,\n        url: item.url,\n        title: item.title\n      }\n    });\n  };\n\n  useEffect(function () {\n    var data = imagesData;\n    data = data.map(function (element) {\n      var arr = element.url.split('/');\n      element.cols = 1;\n      element.rows = Math.round(1 + Math.random());\n      arr[3] = element.cols === 2 && element.rows === 2 ? AVAILABLE_SIZES[2] : element.cols === 2 || element.rows === 2 ? AVAILABLE_SIZES[1] : AVAILABLE_SIZES[0];\n      element.url = arr.join('/');\n      return element;\n    });\n    setCurrentImagesData(data);\n    setImageSearchResults(data);\n  }, [imagesData]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: currentImagesData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(ImageList, {\n        sx: {\n          width: windowWidth,\n          height: 1000\n        },\n        cols: 4,\n        rowHeight: 150,\n        variant: \"quilted\",\n        gap: 8,\n        children: imageSearchResults.map(function (item) {\n          return /*#__PURE__*/_jsxDEV(ImageListItem, {\n            cols: item.cols || 1,\n            rows: item.rows || 1,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              id: \"img-elm\",\n              src: \"\".concat(item.url).concat(imageQueryParams),\n              srcSet: \"\".concat(item.url).concat(thumbnailQueryParams),\n              alt: item.title,\n              loading: \"lazy\",\n              onClick: function onClick() {\n                return routeToImageDetails(item);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"title-bar-elm\",\n              children: /*#__PURE__*/_jsxDEV(ImageListItemBar, {\n                className: \"title-bar-\".concat(item.rows === 2 ? 'md' : 's'),\n                title: item.title,\n                position: \"top\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, _this)]\n          }, item.url, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)\n    }, void 0, false) : null\n  }, void 0, false);\n}\n\n_s(TitlebarImageList, \"jnjjDozQ5d2LfuaC1lU1RjXgQ0Q=\", false, function () {\n  return [useWidth, useNavigate];\n});\n\n_c = TitlebarImageList;\nTitlebarImageList.propTypes = {\n  imagesData: PropTypes.array\n};\nexport default TitlebarImageList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TitlebarImageList\");","map":{"version":3,"sources":["/home/trellis/react-gallery-app/src/layout/TitlebarImageList.js"],"names":["useState","useEffect","useNavigate","PropTypes","useWidth","Typography","ImageList","ImageListItem","ImageListItemBar","TextField","Stack","Autocomplete","AVAILABLE_SIZES","TitlebarImageList","imagesData","currentImagesData","setCurrentImagesData","imageSearchResults","setImageSearchResults","windowWidth","width","navigate","imageQueryParams","thumbnailQueryParams","routeToImageDetails","item","path","state","id","url","title","data","map","element","arr","split","cols","rows","Math","round","random","join","height","propTypes","array"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { useWidth } from '../customHooks/useWidth';\n\nimport { Typography } from '@mui/material';\nimport ImageList from '@mui/material/ImageList';\nimport ImageListItem from '@mui/material/ImageListItem';\nimport ImageListItemBar from '@mui/material/ImageListItemBar';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nimport Autocomplete from '@mui/material/Autocomplete';\n\nconst AVAILABLE_SIZES = [150, 450, 600];\n\nfunction TitlebarImageList({ imagesData }) {\n  const [currentImagesData, setCurrentImagesData] = useState(null);\n  const [imageSearchResults, setImageSearchResults] = useState(null);\n  const { width: windowWidth } = useWidth();\n  const navigate = useNavigate();\n  const imageQueryParams = '?w=248&fit=crop&auto=format';\n  const thumbnailQueryParams = '?w=248&fit=crop&auto=format&dpr=2 2x';\n\n  const routeToImageDetails = (item) => {\n    let path = `/details`;\n    navigate(path, { state: { id: 1, url: item.url, title: item.title } });\n  }\n\n  useEffect(() => {\n    var data = imagesData;\n    data = data.map((element) => {\n      var arr = element.url.split('/');\n      element.cols = 1;\n      element.rows = Math.round(1 + Math.random());\n      arr[3] = element.cols === 2 && element.rows === 2 ? AVAILABLE_SIZES[2] :\n        element.cols === 2 || element.rows === 2 ? AVAILABLE_SIZES[1] :\n          AVAILABLE_SIZES[0];\n      element.url = arr.join('/');\n      return element;\n    });\n    setCurrentImagesData(data);\n    setImageSearchResults(data);\n\n  }, [imagesData])\n\n  return (\n    <>\n      {currentImagesData ?\n        <>\n          \n          <ImageList sx={{ width: windowWidth, height: 1000 }}\n            cols={4}\n            rowHeight={150}\n            variant=\"quilted\"\n            gap={8}>\n            {imageSearchResults.map((item) => (\n              <ImageListItem key={item.url} cols={item.cols || 1} rows={item.rows || 1}>\n                <img\n                  id=\"img-elm\"\n                  src={`${item.url}${imageQueryParams}`}\n                  srcSet={`${item.url}${thumbnailQueryParams}`}\n                  alt={item.title}\n                  loading=\"lazy\"\n                  onClick={() => routeToImageDetails(item)}\n                />\n                <div id=\"title-bar-elm\">\n                  <ImageListItemBar\n                    className={`title-bar-${item.rows === 2 ? 'md' : 's'}`}\n                    title={item.title}\n                    position={\"top\"}\n                  />\n                </div>\n              </ImageListItem>\n            ))}\n          </ImageList>\n        </> : null}\n    </>\n  );\n}\n\nTitlebarImageList.propTypes = {\n  imagesData: PropTypes.array,\n};\n\nexport default TitlebarImageList;"]},"metadata":{},"sourceType":"module"}